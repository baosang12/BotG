# Postrun Report
- Timestamp: 20250827_212542
- Acceptance (smoke): UNKNOWN

## Changes
# Copilot changes

- ecff7313d4e569fdc053834371cfe9d111b40b3c | BotG Dev <botg@example.com> | Wed Aug 27 15:18:23 2025 +0700 | chore(postrun): add PR body + checklist and packaged artifacts for review
  files: path_issues/postrun_checklist.md, path_issues/postrun_pr_body.md
  diff: path_issues/copilot_changes_20250827_212542_ecff7313d4e569fdc053834371cfe9d111b40b3c.diff
- 96f5a5a6b75de78a4773d50a19514d4ca723654d | BotG Dev <botg@example.com> | Wed Aug 27 14:17:47 2025 +0700 | tools: ReconstructClosedTrades header-aware parsing + robust fill detection; postrun artifacts updated (20250827_141746)
  files: Tools/ReconstructClosedTrades/Program.cs, path_issues/agent_ts.txt, path_issues/latest_zip.txt, path_issues/postrun_artifacts_20250827_141746.sha256, path_issues/postrun_artifacts_20250827_141746.zip
  diff: path_issues/copilot_changes_20250827_212542_96f5a5a6b75de78a4773d50a19514d4ca723654d.diff
- 39588d174a55dfc2b4ae4d1405ee882ebad5f3b9 | BotG Dev <botg@example.com> | Wed Aug 27 14:12:16 2025 +0700 | postrun: reconstruct+analyze with richer orders.csv; update artifacts+zip (20250827_141215)
  files: path_issues/agent_summary_20250827_124502.json, path_issues/agent_ts.txt, path_issues/build_and_test_output.txt, path_issues/fillrate_by_hour.png, path_issues/git_commit2.txt, path_issues/git_push2.txt, path_issues/latency_percentiles.png, path_issues/latest_zip.txt, path_issues/orders_ascii.csv, path_issues/postrun_artifacts_20250827_124502.sha256, path_issues/postrun_artifacts_20250827_124502.zip, path_issues/postrun_artifacts_20250827_141215.sha256, path_issues/postrun_artifacts_20250827_141215.zip, path_issues/pr_open_url.txt, path_issues/slippage_hist.png
  diff: path_issues/copilot_changes_20250827_212542_39588d174a55dfc2b4ae4d1405ee882ebad5f3b9.diff
- 954006249d0547943c41819b559281416a4a4c74 | BotG Dev <botg@example.com> | Wed Aug 27 14:03:05 2025 +0700 | chore(postrun): make analysis resilient to simple orders.csv; add fallback artifacts
  files: path_issues/agent_summary_20250827_124502.json, path_issues/closed_trades_fifo_reconstructed.csv, path_issues/git_add.txt, path_issues/git_commit.txt, path_issues/git_push.txt, path_issues/git_status.txt, path_issues/reconstruct_report.json
  diff: path_issues/copilot_changes_20250827_212542_954006249d0547943c41819b559281416a4a4c74.diff
- bc03f2dc370cfece86f7999d0060867118f75d24 | BotG Dev <botg@example.com> | Wed Aug 27 13:50:15 2025 +0700 | fix(postrun): reconcile PnL, slippage/latency analysis + plots, runbook & CI; minor logging patch (if applied)
  files: Harness/Program.cs, docs/runbook_postrun.md, path_issues/README.txt, path_issues/agent_summary_20250827_124841.json, path_issues/agent_ts.txt, path_issues/build_and_test_output.txt, path_issues/draintag_fix_report.txt, path_issues/fillrate_hourly.csv, path_issues/findings_paths_to_fix.txt, path_issues/git_checkout.txt, path_issues/git_revparse.txt, path_issues/git_try.txt, path_issues/latest_zip.txt, path_issues/orders_ascii.csv, path_issues/postrun_artifacts_20250827_124017.zip, path_issues/postrun_artifacts_20250827_124502.sha256, path_issues/postrun_artifacts_20250827_124502.zip, path_issues/postrun_artifacts_20250827_124841.zip, path_issues/postrun_summary.txt, path_issues/reconstruct_report.json, path_issues/slip_latency_percentiles.json, path_issues/top_slippage.csv, scripts/analyze_postrun.py, scripts/postrun_analyze.ps1
  diff: path_issues/copilot_changes_20250827_212542_bc03f2dc370cfece86f7999d0060867118f75d24.diff
- 04e81146f97dca63fc916cf43e4de1b24e28dd2b | baosang12 <baosang.qh@gmail.com> | Thu Aug 21 18:42:18 2025 +0700 | Merge pull request #2 from baosang12/botg/automation/reconcile-streaming-20250821_084334
  files: 
  diff: path_issues/copilot_changes_20250827_212542_04e81146f97dca63fc916cf43e4de1b24e28dd2b.diff
- c43c5fb3ce63f70847135d836841c1c9801f50a1 | baosang12 <baosang.qh@gmail.com> | Thu Aug 21 16:07:42 2025 +0700 | Merge pull request #1 from baosang12/copilot/fix-1b1b6f67-0825-4994-a041-0728d53e7ff9
  files: 
  diff: path_issues/copilot_changes_20250827_212542_c43c5fb3ce63f70847135d836841c1c9801f50a1.diff

## Artifacts
{
    "files":  [
                  {
                      "path":  "D:\\OneDrive\\Tài liệu\\cAlgo\\Sources\\Robots\\BotG\\path_issues\\pre_run_readiness_20250827_191534.json",
                      "exists":  true,
                      "size_bytes":  1825,
                      "mtime_iso":  "2025-08-27T12:31:58.2848918Z",
                      "sha256":  "EA5AB134D12BECDFA0E80EFB434FA0C51C10B91BCECAA85BD96484F3450FA4BE"
                  },
                  {
                      "path":  "D:\\OneDrive\\Tài liệu\\cAlgo\\Sources\\Robots\\BotG\\path_issues\\agent_steps_20250827_212542.log",
                      "exists":  true,
                      "size_bytes":  3091,
                      "mtime_iso":  "2025-08-27T14:29:11.1084804Z",
                      "sha256":  "F5CF70D3FB630C59FF9BE6D0CE028FA231DA1DE2FA393338D833C7FEBDFFD9F7"
                  },
                  {
                      "path":  "D:\\OneDrive\\Tài liệu\\cAlgo\\Sources\\Robots\\BotG\\path_issues\\smoke_summary_20250827_200336.json",
                      "exists":  true,
                      "size_bytes":  343,
                      "mtime_iso":  "2025-08-27T13:27:02.2246594Z",
                      "sha256":  "F85369C9DD659A3F5F8E51C4B6C2F4C921146694D67821D84F6FF4912BDED0AB"
                  },
                  {
                      "path":  "D:\\OneDrive\\Tài liệu\\cAlgo\\Sources\\Robots\\BotG\\path_issues\\reconstruct_report.json",
                      "exists":  true,
                      "size_bytes":  316,
                      "mtime_iso":  "2025-08-27T06:51:16.0216001Z",
                      "sha256":  "0759522B82F78883F3CD879C9609315894E50CDAEF6D59EEE89642C15FAA5C16"
                  },
                  {
                      "path":  "D:\\OneDrive\\Tài liệu\\cAlgo\\Sources\\Robots\\BotG\\path_issues\\closed_trades_fifo_reconstructed.csv",
                      "exists":  true,
                      "size_bytes":  84,
                      "mtime_iso":  "2025-08-27T06:51:16.0037254Z",
                      "sha256":  "836471F5D790EB503507A4DBBD32281B3F25AE8685A8C5AAB01C79F9F4E0C103"
                  },
                  {
                      "path":  "D:\\OneDrive\\Tài liệu\\cAlgo\\Sources\\Robots\\BotG\\path_issues\\slip_latency_percentiles.json",
                      "exists":  true,
                      "size_bytes":  223,
                      "mtime_iso":  "2025-08-27T06:48:40.6256531Z",
                      "sha256":  "87C716EA7586B19059F610180953487A9E255B21A3A3AF8C13BE9385AFA02D9E"
                  },
                  {
                      "path":  "D:\\OneDrive\\Tài liệu\\cAlgo\\Sources\\Robots\\BotG\\path_issues\\slippage_hist.png",
                      "exists":  true,
                      "size_bytes":  5176,
                      "mtime_iso":  "2025-08-27T07:04:24.3097841Z",
                      "sha256":  "649ECC508286137060C2260915394948CFB7B7CBC2E543CE25AB1D8ABAC8629F"
                  },
                  {
                      "path":  "D:\\OneDrive\\Tài liệu\\cAlgo\\Sources\\Robots\\BotG\\path_issues\\latency_percentiles.png",
                      "exists":  true,
                      "size_bytes":  5360,
                      "mtime_iso":  "2025-08-27T07:04:24.3300403Z",
                      "sha256":  "B9BBD55294881EF9D522397ADB9E6AF829B016D575B0F39D77B06C09042CD4DA"
                  },
                  {
                      "path":  "D:\\OneDrive\\Tài liệu\\cAlgo\\Sources\\Robots\\BotG\\path_issues\\latest_zip.txt",
                      "exists":  true,
                      "size_bytes":  88,
                      "mtime_iso":  "2025-08-27T14:32:56.9893407Z",
                      "sha256":  "568FBFC5B7B7711F26018C88AD58D76C24805EA4660F6F5F1A32249A9A914ED0"
                  },
                  {
                      "path":  "D:\\botg\\logs\\artifacts\\telemetry_run_20250827_200336\\telemetry_run_20250827_200336.zip",
                      "exists":  true,
                      "size_bytes":  48901,
                      "mtime_iso":  "2025-08-27T13:05:39.9629432Z",
                      "sha256":  "3F88D20B0AF48EC6A2FBBFC4C13F5D8FE238E608868E538476BEB52BF29DA6D1"
                  }
              ],
    "missing":  [

                ]
}


## Telemetry analysis
# Telemetry analysis

- Zip: D:\botg\logs\artifacts\telemetry_run_20250827_200336\telemetry_run_20250827_200336.zip
- Orders: 1488
- Requests: 496, Fills: 496, Fill rate: 100%
- Missing on FILL: price=0, size=0, latency_ms=0
- PnL (sum from trade_closes): 36.9520000000032

## Top 10 slippage (abs)
- 2025-08-27T13:04:07.8042887Z |  | slippage=0.000500000000002387
- 2025-08-27T13:04:07.5483968Z |  | slippage=-0.000500000000002387
- 2025-08-27T13:04:08.0435439Z |  | slippage=-0.000500000000002387
- 2025-08-27T13:04:08.5020841Z |  | slippage=-0.000500000000002387
- 2025-08-27T13:04:08.2747294Z |  | slippage=0.000500000000002387
- 2025-08-27T13:04:07.3144037Z |  | slippage=0.000500000000002387
- 2025-08-27T13:04:06.3694557Z |  | slippage=0.000500000000002387
- 2025-08-27T13:04:06.1376957Z |  | slippage=-0.000500000000002387
- 2025-08-27T13:04:06.6079707Z |  | slippage=-0.000500000000002387
- 2025-08-27T13:04:07.0728750Z |  | slippage=-0.000500000000002387


## Action items
# High priority
- Harden nested PowerShell invocations: always use call operator (&) with fully-qualified paths; avoid -File with Unicode paths.
- Add schema checks for orders.csv (required columns: phase, order_id, price_filled, size_filled, latency_ms).

# Medium
- CI: ensure smoke artifacts are attached and a single aggregated status is posted.
- Record SHA256 for produced zips in latest_zip.txt.

# Commands
```powershell
# Re-run smoke
powershell -NoProfile -ExecutionPolicy Bypass -File .\scripts\run_smoke.ps1 -Seconds 120 -ArtifactPath D:\botg\logs\artifacts -FillProbability 1.0 -DrainSeconds 10 -UseSimulation
# Re-run this report
powershell -NoProfile -ExecutionPolicy Bypass -File .\path_issues\copilot_report_runner.ps1 -Ts 20250827_212542
```

